import{W as F,r as I,j as e,Y as M,y as P}from"./app-CtJn7BAP.js";import{A as L}from"./AuthenticatedLayout-5hTKpFXP.js";import{T as x,I as i}from"./TextInput-B_DQt-pM.js";import{P as p}from"./PrimaryButton-E_e2Xg1j.js";import{I as o}from"./InputLabel-D8GhLFQ7.js";import{M as z,D as g,S as _}from"./SecondaryButton-CftKvzqk.js";import{c as b,T as A}from"./TaskFilter-BhNV7IQ1.js";import"./ApplicationLogo-CWAEyZsH.js";import"./transition-CoS7CXrp.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],E=b("circle-plus",B);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],h=b("x",R);function H({auth:v,tasks:c}){const f=new Date().toISOString().split("T")[0],y=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),{data:t,setData:r,post:N,processing:w,reset:m,errors:l}=F({id:"",date:f,time:y,details:"",priority:1,status:0,remarks:""}),C=s=>{const d=c.find(a=>a.id==s);r(d),n(!0)},k=s=>{s.preventDefault(),N(route("tasks.store"),{onSuccess:()=>{m(),n(!1)}})},j=(s,d,a)=>{s.preventDefault(),P.post(route("tasks.update-status",d),{status:a},{preserveScroll:!0,preserveState:!0})},D=s=>s?new Date(`1970-01-01T${s}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}):"",[S,n]=I.useState(!1),T=()=>{n(!0)},u=()=>{n(!1),m()};return e.jsxs(L,{user:v.user,children:[e.jsx(M,{title:"Tasks"}),e.jsxs("div",{className:"sm:p-4 lg:p-6",children:[e.jsxs("div",{className:"bg-white rounded-md border border-gray-50 shadow-md",children:[e.jsxs("div",{className:"bg-green-50 p-2 flex justify-between gap-2  rounded-t-md",children:[e.jsx("div",{className:"text-xl font-semibold px-2 p-1",children:"Task List"}),e.jsx("div",{children:e.jsx(p,{type:"button",onClick:T,children:e.jsx(E,{size:20})})})]}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsx(A,{}),e.jsx("div",{children:e.jsxs("table",{className:"table-auto w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-slate-300",children:"Date"}),e.jsx("th",{className:"border border-slate-300",children:"Details"}),e.jsx("th",{className:"border border-slate-300",children:"Status"})]})}),e.jsx("tbody",{children:c.length>0&&c.map((s,d)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center border border-slate-300",children:s.date}),e.jsxs("td",{onClick:()=>C(s.id),className:"cursor-pointer text-left border border-slate-300",children:[e.jsx("span",{className:"bg-green-50 p-1 rounded",children:D(s.time)})," ",s.details," ",e.jsx("span",{className:"bg-green-100 rounded px-1",children:s.priority==3?"Urgent":s.priority==2?"Moderate":"Regular"})]}),e.jsx("td",{className:"text-center border border-slate-300",children:s.status==1?"âœ…":s.status==3?e.jsx(h,{size:16,className:"text-red-600 bg-red-100 rounded"}):e.jsxs("div",{className:"flex justify-between gap-3 sm:gap-6",children:[e.jsx(x,{id:"date",type:"checkbox",className:"block rounded-sm text-green-600",checked:s.status==1,onChange:a=>j(a,s.id,1)}),e.jsx("button",{onClick:a=>j(a,s.id,3),className:"text-red-600 bg-red-50",children:e.jsx(h,{size:16})})]})})]},d))})]})})]})]}),e.jsx(z,{show:S,onClose:u,children:e.jsxs("form",{onSubmit:k,className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"text-xl font-semibold",children:"Add Task"}),e.jsx(g,{className:"px-2",onClick:u,children:e.jsx(h,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"date",value:"Date"}),e.jsx(x,{id:"date",type:"date",className:"mt-1 block w-full",value:t.date,onChange:s=>r("date",s.target.value),required:!0,isFocused:!0,autoComplete:"date",placeholder:"Date"}),e.jsx(i,{className:"mt-2",message:l.date})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"time",value:"Time"}),e.jsx(x,{id:"time",type:"time",className:"mt-1 block w-full",value:t==null?void 0:t.time,onChange:s=>r("time",s.target.value),required:!0,isFocused:!0,autoComplete:"time",placeholder:"Time"}),e.jsx(i,{className:"mt-2",message:l.time})]}),e.jsxs("div",{className:"",children:[e.jsx(o,{htmlFor:"category",value:"Category"}),e.jsxs("select",{value:t.category,onChange:s=>r("category",s.target.value),className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full",children:[e.jsx("option",{value:1,children:"Personal"}),e.jsx("option",{value:2,children:"Office"}),e.jsx("option",{value:3,children:"Varsity"})]}),e.jsx(i,{className:"mt-2",message:l.category})]}),e.jsxs("div",{className:"",children:[e.jsx(o,{htmlFor:"priority",value:"Priority"}),e.jsxs("select",{value:t.priority,onChange:s=>r("priority",s.target.value),className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full",children:[e.jsx("option",{value:1,children:"Regular"}),e.jsx("option",{value:2,children:"Moderate"}),e.jsx("option",{value:3,children:"Urgent"})]}),e.jsx(i,{className:"mt-2",message:l.priority})]}),(t==null?void 0:t.status)!=0&&e.jsxs("div",{className:"",children:[e.jsx(o,{htmlFor:"status",value:"Status"}),e.jsxs("select",{value:t.status,onChange:s=>r("status",s.target.value),className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full",children:[e.jsx("option",{value:0,children:"Pending"}),e.jsx("option",{value:1,children:"Completed"}),e.jsx("option",{value:2,children:"In Progress"}),e.jsx("option",{value:3,children:"Cancelled"})]}),e.jsx(i,{className:"mt-2",message:l.status})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(o,{className:"",htmlFor:"details",value:"Details"}),e.jsx("textarea",{value:t.details,placeholder:"Details about tasks",className:"block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",onChange:s=>r("details",s.target.value)}),e.jsx(i,{message:l.details,className:"mt-2"})]}),e.jsxs("div",{className:"flex gap-2 justify-between mt-4",children:[e.jsx("div",{children:e.jsx(g,{onClick:u,children:"Close "})}),e.jsxs("div",{className:"flex gap-2 justify-between",children:[e.jsx(_,{type:"button",onClick:s=>{m()},children:"Clear"}),e.jsx(p,{disabled:w,children:"Submit"})]})]})]})})]})]})}export{H as default};
