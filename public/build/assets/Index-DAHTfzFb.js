import{W as B,r as y,j as e,Y as E,y as R}from"./app-C11IoTm-.js";import{A as q}from"./AuthenticatedLayout-Bavl-KY4.js";import{T as j,I as i}from"./TextInput-hc3o6AdF.js";import{P as p}from"./PrimaryButton-D0PvpNdR.js";import{I as o}from"./InputLabel-DR63EkMg.js";import{M as N}from"./Modal-BlCK4p54.js";import{D as C,S as U}from"./SecondaryButton-BeqMCWJM.js";import W from"./TaskFilter-CONqMDZ5.js";import{X as g,T as O}from"./TaskCategory-DjPdxGTY.js";import{c as X}from"./createLucideIcon-NESTSFWR.js";import"./ApplicationLogo-CJIbFD_f.js";import"./transition-DlEHxIE8.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],w=X("circle-plus",Y);function ae({auth:k,tasks:m,categories:d}){const S=new Date().toISOString().split("T")[0],T=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),{data:t,setData:r,post:D,processing:M,reset:u,errors:a}=B({id:"",date:S,time:T,details:"",priority:1,status:0,remarks:""}),_=s=>{const n=m.find(l=>l.id==s);r(n),c(!0)},F=s=>{s.preventDefault(),D(route("tasks.store"),{onSuccess:()=>{u(),c(!1)}})},b=(s,n,l)=>{s.preventDefault(),R.post(route("tasks.update-status",n),{status:l},{preserveScroll:!0,preserveState:!0})},I=s=>s?new Date(`1970-01-01T${s}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}):"",[P,c]=y.useState(!1),z=()=>{c(!0)},x=()=>{c(!1),u()},[L,f]=y.useState(!1),A=()=>{f(!0)},v=()=>{f(!1)};return e.jsxs(q,{user:k.user,children:[e.jsx(E,{title:"Tasks"}),e.jsxs("div",{className:"sm:p-4 lg:p-6",children:[e.jsxs("div",{className:"bg-white rounded-md border border-gray-50 shadow-md",children:[e.jsxs("div",{className:"bg-green-50 p-2 flex justify-between gap-2  rounded-t-md",children:[e.jsx("div",{className:"text-xl font-semibold px-2 p-1",children:"Task List"}),e.jsx("div",{children:e.jsx(p,{type:"button",onClick:z,children:e.jsx(w,{size:20})})})]}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("div",{children:e.jsx(W,{categories:d})}),e.jsx("div",{children:e.jsxs(p,{type:"button",onClick:A,children:["Category ","  "," ",e.jsx(w,{size:20})]})})]}),e.jsx("div",{children:e.jsxs("table",{className:"table-auto w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-slate-300",children:"Date"}),e.jsx("th",{className:"border border-slate-300",children:"Details"}),e.jsx("th",{className:"border border-slate-300",children:"Category"}),e.jsx("th",{className:"border border-slate-300",children:"Status"})]})}),e.jsx("tbody",{children:m.length>0&&m.map((s,n)=>{var l;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-center border border-slate-300",children:s.date}),e.jsxs("td",{onClick:()=>_(s.id),className:"cursor-pointer text-left border border-slate-300",children:[e.jsx("span",{className:"bg-green-50 p-1 rounded",children:I(s.time)})," ",s.details," ",e.jsx("span",{className:"bg-green-100 rounded px-1",children:s.priority==3?"Urgent":s.priority==2?"Moderate":"Regular"})]}),e.jsx("td",{className:"text-center border border-slate-300",children:(l=s==null?void 0:s.category)==null?void 0:l.name}),e.jsx("td",{className:"text-center border border-slate-300",children:s.status==1?"âœ…":s.status==3?e.jsx(g,{size:16,className:"text-red-600 bg-red-100 rounded"}):e.jsxs("div",{className:"flex justify-between gap-3 sm:gap-6",children:[e.jsx(j,{id:"date",type:"checkbox",className:"block rounded-sm text-green-600",checked:s.status==1,onChange:h=>b(h,s.id,1)}),e.jsx("button",{onClick:h=>b(h,s.id,3),className:"text-red-600 bg-red-50",children:e.jsx(g,{size:16})})]})})]},n)})})]})})]})]}),e.jsx(N,{maxWidth:"md",show:L,onClose:v,children:e.jsx(O,{closeCategoryModal:v})}),e.jsx(N,{show:P,onClose:x,children:e.jsxs("form",{onSubmit:F,className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"text-xl font-semibold",children:"Add Task"}),e.jsx(C,{className:"px-2",onClick:x,children:e.jsx(g,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"date",value:"Date"}),e.jsx(j,{id:"date",type:"date",className:"mt-1 block w-full",value:t.date,onChange:s=>r("date",s.target.value),required:!0,isFocused:!0,autoComplete:"date",placeholder:"Date"}),e.jsx(i,{className:"mt-2",message:a.date})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"time",value:"Time"}),e.jsx(j,{id:"time",type:"time",className:"mt-1 block w-full",value:t==null?void 0:t.time,onChange:s=>r("time",s.target.value),required:!0,isFocused:!0,autoComplete:"time",placeholder:"Time"}),e.jsx(i,{className:"mt-2",message:a.time})]}),e.jsxs("div",{className:"",children:[e.jsx(o,{htmlFor:"task_categories_id",value:"Category"}),e.jsxs("select",{value:t.task_categories_id,onChange:s=>r("task_categories_id",s.target.value),className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full",children:[e.jsx("option",{value:"",children:"--------"}),(d==null?void 0:d.length)>0&&d.map(s=>e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.name},s.id))]}),e.jsx(i,{className:"mt-2",message:a.task_categories_id})]}),e.jsxs("div",{className:"",children:[e.jsx(o,{htmlFor:"priority",value:"Priority"}),e.jsxs("select",{value:t.priority,onChange:s=>r("priority",s.target.value),className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full",children:[e.jsx("option",{value:1,children:"Regular"}),e.jsx("option",{value:2,children:"Moderate"}),e.jsx("option",{value:3,children:"Urgent"})]}),e.jsx(i,{className:"mt-2",message:a.priority})]}),(t==null?void 0:t.status)!=0&&e.jsxs("div",{className:"",children:[e.jsx(o,{htmlFor:"status",value:"Status"}),e.jsxs("select",{value:t.status,onChange:s=>r("status",s.target.value),className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full",children:[e.jsx("option",{value:0,children:"Pending"}),e.jsx("option",{value:1,children:"Completed"}),e.jsx("option",{value:2,children:"In Progress"}),e.jsx("option",{value:3,children:"Cancelled"})]}),e.jsx(i,{className:"mt-2",message:a.status})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(o,{className:"",htmlFor:"details",value:"Details"}),e.jsx("textarea",{value:t.details,placeholder:"Details about tasks",className:"block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",onChange:s=>r("details",s.target.value)}),e.jsx(i,{message:a.details,className:"mt-2"})]}),e.jsxs("div",{className:"flex gap-2 justify-between mt-4",children:[e.jsx("div",{children:e.jsx(C,{onClick:x,children:"Close "})}),e.jsxs("div",{className:"flex gap-2 justify-between",children:[e.jsx(U,{type:"button",onClick:s=>{u()},children:"Clear"}),e.jsx(p,{disabled:M,children:"Submit"})]})]})]})})]})]})}export{ae as default};
