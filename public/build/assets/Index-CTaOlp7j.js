import{W as v,j as e,Y as y,y as u}from"./app-DH28JKf2.js";import{A as w}from"./AuthenticatedLayout-DxhQFcSL.js";import{T as i,I as c}from"./TextInput-D7ke50Nr.js";import{P as x}from"./PrimaryButton-B8EaO-7H.js";import{I as n}from"./InputLabel-7XmGFUIo.js";import"./ApplicationLogo-ClTOt_Sd.js";import"./transition-CEny5Vnm.js";function F({auth:h,tasks:a}){const{data:d,setData:t,post:p,processing:b,reset:m,errors:l}=v({id:"",date:"",details:"",priority:1,status:"",remarks:""}),j=s=>{const r=a.find(o=>o.id==s);t(r)},g=s=>{s.preventDefault(),p(route("tasks.store"),{onSuccess:()=>m()})},N=(s,r)=>{s.preventDefault(),u.post(route("tasks.update-status",r),{status:s.target.checked?1:0},{preserveScroll:!0,preserveState:!0})},f=s=>{s.preventDefault(),u.get(route("tasks.index"),{date:s.target.value},{preserveState:!0,preserveScroll:!0})};return e.jsxs(w,{user:h.user,children:[e.jsx(y,{title:"Tasks"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"bg-white p-4 sm:p-4 md:p-6 rounded-md border border-gray-50 shadow-md",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(i,{type:"date",name:"date",className:"",onChange:s=>{f(s)}}),e.jsx("button",{type:"button",className:"bg-green-600 text-white rounded px-2 py-1",onChange:s=>{},children:"Add Task"})]}),e.jsxs("table",{className:"table-auto w-full mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-slate-300",children:"Date"}),e.jsx("th",{className:"border border-slate-300",children:"Details"}),e.jsx("th",{className:"border border-slate-300",children:"Priority"}),e.jsx("th",{className:"border border-slate-300",children:"Status"}),e.jsx("th",{className:"border border-slate-300",children:"Remarks"}),e.jsx("th",{className:"border border-slate-300",children:"Action"})]})}),e.jsx("tbody",{children:a.length>0&&a.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center border border-slate-300",children:s.date}),e.jsx("td",{className:"text-left border border-slate-300",children:s.details}),e.jsx("td",{className:"text-center border border-slate-300",children:s.priority==3?"Urgent":s.priority==2?"Moderate":"Regular"}),e.jsx("td",{className:"text-center border border-slate-300",children:e.jsx(i,{id:"date",type:"checkbox",className:"mt-1 block rounded-sm text-green-600",checked:s.status==1,onChange:o=>N(o,s.id),required:!0})}),e.jsx("td",{className:"text-center border border-slate-300",children:s.remarks}),e.jsx("td",{className:"text-center border border-slate-300",children:e.jsx("button",{onClick:()=>j(s.id),className:"bg-green-600 px-1 rounded text-white",children:"Edit"})})]},r))})]})]}),e.jsx("div",{children:e.jsxs("form",{onSubmit:g,className:"bg-white p-4 sm:p-4 md:p-6 rounded-md border border-gray-50 shadow-md",children:[e.jsx("div",{children:e.jsxs("div",{className:"text-xl font-semibold",children:["Add Task ",e.jsx("i",{className:"fa fa-plus"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"date",value:"Date"}),e.jsx(i,{id:"date",type:"date",className:"mt-1 block w-full",value:d.date,onChange:s=>t("date",s.target.value),required:!0,isFocused:!0,autoComplete:"date",placeholder:"Date"}),e.jsx(c,{className:"mt-2",message:l.date})]}),e.jsxs("div",{className:"",children:[e.jsx(n,{htmlFor:"priority",value:"Priority"}),e.jsxs("select",{value:d.priority,onChange:s=>t("priority",s.target.value),className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full",children:[e.jsx("option",{value:1,children:"Regular"}),e.jsx("option",{value:2,children:"Moderate"}),e.jsx("option",{value:3,children:"Urgent"})]}),e.jsx(c,{className:"mt-2",message:l.priority})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(n,{className:"",htmlFor:"details",value:"Details"}),e.jsx("textarea",{value:d.details,placeholder:"Details about tasks",className:"block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",onChange:s=>t("details",s.target.value)}),e.jsx(c,{message:l.details,className:"mt-2"})]}),e.jsxs("div",{className:"flex gap-2 justify-items-start mt-4",children:[e.jsx(x,{type:"button",className:"mt-4",onClick:s=>{m()},children:"Clear"}),e.jsx(x,{className:"mt-4",disabled:b,children:"Submit"})]})]})})]})]})}export{F as default};
