import{W as y,j as e,Y as w,y as m}from"./app-iQTJVHSR.js";import{A as S}from"./AuthenticatedLayout-Cm6JxTkM.js";import{T as d,I as l}from"./TextInput-CYOiIYo-.js";import{P as x}from"./PrimaryButton-DchjBhHr.js";import{I as o}from"./InputLabel-52J_WuBE.js";import"./ApplicationLogo-B-GmXbom.js";import"./transition-B4BxZSBH.js";function q({auth:p,tasks:n}){const{data:a,setData:r,post:g,processing:h,reset:u,errors:i}=y({id:"",date:"",time:"",details:"",priority:1,status:"",remarks:""}),j=s=>{const t=n.find(c=>c.id==s);r(t)},b=s=>{s.preventDefault(),g(route("tasks.store"),{onSuccess:()=>u()})},f=(s,t)=>{s.preventDefault(),m.post(route("tasks.update-status",t),{status:s.target.checked?1:0},{preserveScroll:!0,preserveState:!0})},v=s=>{const t=s.target.value;t?m.get(route("tasks.index"),{date:t},{preserveState:!0,preserveScroll:!0}):m.get(route("tasks.index"),{},{preserveState:!0,preserveScroll:!0})},N=s=>s?new Date(`1970-01-01T${s}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}):"";return e.jsxs(S,{user:p.user,children:[e.jsx(w,{title:"Tasks"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"bg-white p-4 sm:p-4 md:p-6 rounded-md border border-gray-50 shadow-md",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(d,{type:"date",name:"date",className:"",onChange:s=>{v(s)}}),e.jsx("button",{type:"button",className:"inline-flex items-center px-2 py-1 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",onChange:s=>{},children:"Add Task"})]}),e.jsxs("table",{className:"table-auto w-full mt-2 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-slate-300",children:"Date & Time"}),e.jsx("th",{className:"border border-slate-300",children:"Details"}),e.jsx("th",{className:"border border-slate-300",children:"Status"})]})}),e.jsx("tbody",{children:n.length>0&&n.map((s,t)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"text-center border border-slate-300",children:[s.date," - ",N(s.time)]}),e.jsxs("td",{onClick:()=>j(s.id),className:"cursor-pointer text-left border border-slate-300",children:[s.details," ",e.jsx("span",{className:"bg-green-100 rounded px-1",children:s.priority==3?"Urgent":s.priority==2?"Moderate":"Regular"})]}),e.jsx("td",{className:"text-center border border-slate-300",children:s.status==0?e.jsx(d,{id:"date",type:"checkbox",className:"mt-1 block rounded-sm text-green-600",checked:s.status==1,onChange:c=>f(c,s.id),required:!0,isFocused:!0}):"âœ…"})]},t))})]})]}),e.jsx("div",{children:e.jsxs("form",{onSubmit:b,className:"bg-white p-4 sm:p-4 md:p-6 rounded-md border border-gray-50 shadow-md",children:[e.jsx("div",{children:e.jsxs("div",{className:"text-xl font-semibold",children:["Add Task ",e.jsx("i",{className:"fa fa-plus"})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"date",value:"Date"}),e.jsx(d,{id:"date",type:"date",className:"mt-1 block w-full",value:a.date??now(),onChange:s=>r("date",s.target.value),required:!0,isFocused:!0,autoComplete:"date",placeholder:"Date"}),e.jsx(l,{className:"mt-2",message:i.date})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"time",value:"Time"}),e.jsx(d,{id:"time",type:"time",className:"mt-1 block w-full",value:a.time??new Date().toISOString().split("T")[0],onChange:s=>r("time",s.target.value),required:!0,isFocused:!0,autoComplete:"time",placeholder:"Time"}),e.jsx(l,{className:"mt-2",message:i.time})]}),e.jsxs("div",{className:"",children:[e.jsx(o,{htmlFor:"priority",value:"Priority"}),e.jsxs("select",{value:a.priority,onChange:s=>r("priority",s.target.value),className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full",children:[e.jsx("option",{value:1,children:"Regular"}),e.jsx("option",{value:2,children:"Moderate"}),e.jsx("option",{value:3,children:"Urgent"})]}),e.jsx(l,{className:"mt-2",message:i.priority})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(o,{className:"",htmlFor:"details",value:"Details"}),e.jsx("textarea",{value:a.details,placeholder:"Details about tasks",className:"block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",onChange:s=>r("details",s.target.value)}),e.jsx(l,{message:i.details,className:"mt-2"})]}),e.jsxs("div",{className:"flex gap-2 justify-items-start mt-4",children:[e.jsx(x,{type:"button",className:"mt-4",onClick:s=>{u()},children:"Clear"}),e.jsx(x,{className:"mt-4",disabled:h,children:"Submit"})]})]})})]})]})}export{q as default};
